"use strict";function directionAwareButton(){$(".btn").on("mouseenter",function(e){var o=$(this).offset(),n=e.pageX-o.left,t=e.pageY-o.top;$(this).find("span").css({top:t,left:n})}).on("mouseout",function(e){var o=$(this).offset(),n=e.pageX-o.left,t=e.pageY-o.top;$(this).find("span").css({top:t,left:n})})}function parallax(){var e=$(".devices"),o=$("img.desktop"),n=$("img.laptop"),t=$("img.mobile"),a=e.width(),s=e.height();$(window).resize(function(){a=e.width(),s=e.height()}),$(window).on("mousemove deviceorientation",function(e){function i(e){TweenLite.to(e.el,1,{css:{transform:"translateX("+d/e.posLeft+"px) translateY("+u/e.posTop+"px)"},ease:Expo.easeOut,overwrite:"all"})}var r=window.matchMedia("(max-width: 767px)").matches,c=r?Math.round(50*e.originalEvent.gamma):e.pageX,l=r?Math.round(50*e.originalEvent.beta):e.pageY,d=a/2-c,u=s/2-l;$("#deviceOrientation").text("gamma: "+e.originalEvent.gamma+" beta: "+e.originalEvent.beta);for(var m=[{el:o,posLeft:75,posTop:35},{el:n,posLeft:45,posTop:15},{el:t,posLeft:55,posTop:25}],p=0;p<m.length;p++)i(m[p])})}function paginationArrowsMove(){$(".pagination a").each(function(e){$(this).click(function(o){o.preventDefault(),$.scrollify.move(e)})}),$(".arrow-down").click(function(){$.scrollify.next()}),$(".arrow-up").click(function(){$.scrollify.previous()})}var $document=$(document),$body=$("body"),$barbaWrapper=$("#barba-wrapper"),pageTransitions=function(){var e=Barba.BaseView.extend({namespace:"homepage",onEnter:function(){$document.trigger("homepageOnEnter"),$body.addClass("home"),$body.attr("id","home")},onEnterCompleted:function(){$document.trigger("homepageOnEnterCompleted"),$body.removeClass().addClass("home")},onLeave:function(){$document.trigger("homepageOnLeave")},onLeaveCompleted:function(){$document.trigger("homepageOnLeaveCompleted")}}),o=Barba.BaseView.extend({namespace:"projects",onEnter:function(){$document.trigger("projectsOnEnter"),$body.addClass("projects"),$body.attr("id","projects")},onEnterCompleted:function(){$document.trigger("projectsOnEnterCompleted"),$body.removeClass().addClass("projects")},onLeave:function(){$document.trigger("projectsOnLeave")},onLeaveCompleted:function(){$document.trigger("projectsOnLeaveCompleted")}}),n=Barba.BaseView.extend({namespace:"about",onEnter:function(){$document.trigger("aboutOnEnter"),$body.addClass("about"),$body.attr("id","about")},onEnterCompleted:function(){$document.trigger("aboutOnEnterCompleted"),$body.removeClass().addClass("about")},onLeave:function(){$document.trigger("aboutOnLeave")},onLeaveCompleted:function(){$document.trigger("aboutOnLeaveCompleted")}});e.init(),o.init(),n.init(),Barba.Pjax.start(),Barba.Prefetch.init();var t=750,a=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.transitionOut()]).then(this.transitionIn.bind(this))},transitionOut:function(){var e=$(this.oldContainer);e.removeClass("transition-in").addClass("transition-out"),setTimeout(function(){return e.show().promise()},t)},transitionIn:function(){var e=this,o=this,n=$(this.newContainer);setTimeout(function(){$(e.oldContainer).hide(),$(e.oldContainer).show(),o.done()},t),n.css({visibility:"visible"}),n.addClass("transition-in").removeClass("transition-out")}});Barba.Pjax.getTransition=function(){return a},Barba.Dispatcher.on("newPageReady",function(e,o){switch(setTimeout(function(){window.scrollTo(0,0)},t),$($document).trigger("allPagesEnter"),console.log("allPagesEnter"),!0){case"projects"===o.namespace&&"projects"===e.namespace:$barbaWrapper.addClass("tertiary-transition"),setTimeout(function(){window.scrollTo(0,0)},t);break;case"homepage"===e.namespace:$barbaWrapper.removeClass("fade-in"),setTimeout(function(){window.scrollTo(0,0),$barbaWrapper.addClass("fade-in")},t),console.log("homepage");break;default:$barbaWrapper.removeClass(),setTimeout(function(){window.scrollTo(0,0)},t)}})};$(function(){return pageTransitions()});var about=function(){$document.on("aboutOnEnter",function(){console.log("aboutOnEnter")}),$document.on("aboutOnEnterCompleted",function(){console.log("aboutOnEnterCompleted")}),$document.on("aboutOnLeave",function(){console.log("aboutOnLeave")}),$document.on("aboutOnLeaveCompleted",function(){console.log("aboutOnLeaveCompleted")})};$(function(){return about()}),directionAwareButton(),$($document).on("allPagesEnter",function(){directionAwareButton()}),$(document).on("homepageOnEnterCompleted",function(){$(".carousel").slick({infinite:!0,variableWidth:!0,slidesToShow:1,prevArrow:$(".arrow-prev"),nextArrow:$(".arrow-next")}),$(".slick-active").addClass("active"),$(".carousel").on("afterChange",function(){$(this).find(".slide.slick-active").addClass("animate").siblings().removeClass("animate")}),$(".carousel .slick-active").addClass("animate")});var homePage=function(){function e(){$("section.intro").addClass("landing-animation"),setTimeout(function(){$("section.intro").removeClass("landing-animation")},2e3)}e(),$document.on("homepageOnEnter",function(){console.log("homepageOnEnter"),e()}),$document.on("homepageOnEnterCompleted",function(){console.log("homepageOnEnterCompleted")}),$document.on("homepageOnLeave",function(){console.log("homepageOnLeave")}),$document.on("homepageOnLeaveCompleted",function(){console.log("homepageOnLeaveCompleted")})};$("body").hasClass("home")&&$(function(){return homePage()}),$.fn.isOnScreen=function(){var e={top:$(window).scrollTop()};e.bottom=e.top+$(window).height();var o=this.offset();return o.bottom=this.offset().top+this.outerHeight(),!(e.bottom<o.top||e.top>o.bottom)},$(window).on("scroll",function(){$(".project .img").each(function(){$(this).isOnScreen()===!0?$(this).addClass("in-viewport"):$(this).removeClass("in-viewport")})});var $body=$("body"),$navToggle=$(".nav"),$navItem=$("nav ul li a");$navToggle.on("click",function(){$(this).toggleClass("is-closed"),$(this).hasClass("is-closed")?$body.removeClass("is-open"):$body.addClass("is-open")}),$navItem.on("click",function(){$navToggle.toggleClass("is-closed"),$navToggle.hasClass("is-closed")?$body.removeClass("is-open"):$body.addClass("is-open")}),$(document).on("homepageOnEnterCompleted",function(){parallax()});var projects=function(){$document.on("projectsOnEnter",function(){console.log("projectsOnEnter")}),$document.on("projectsOnEnterCompleted",function(){console.log("projectsOnEnterCompleted")}),$document.on("projectsOnLeave",function(){console.log("projectsOnLeave")}),$document.on("projectsOnLeaveCompleted",function(){console.log("projectsOnLeaveCompleted")})};$(function(){return projects()});var settings={section:".scroll-section",easing:"easeOutExpo",scrollSpeed:1e3,offset:0,standardScrollElements:"body:not(.home)",scrollbars:!0,setHeights:!0,overflowScroll:!0,updateHash:!1,touchScroll:!0,before:function(e,o){var n=o[e].attr("data-section-name");$(".pagination .active").removeClass("active"),$(".pagination").find('a[href="#'+n+'"]').addClass("active"),$(".scroll-section").eq(e).removeClass("active previous next").addClass("active").siblings(".scroll-section").removeClass("active"),$(".scroll-section").eq(e-1).removeClass("active previous next").addClass("previous").siblings(".scroll-section").removeClass("previous"),$(".scroll-section").eq(e+1).removeClass("active previous next").addClass("next").siblings(".scroll-section").removeClass("next"),e===o.length-1?$(".arrow-down").addClass("disabled"):0===e?$(".arrow-up").addClass("disabled"):$(".arrow-up, .arrow-down").removeClass("disabled")}};$("body").hasClass("home")&&($.scrollify(settings),window.scrollTo(0,0),$.scrollify.move(0)),$(document).on("homepageOnEnter",function(){window.scrollTo(0,0),$.scrollify.move(0),paginationArrowsMove()}),$(document).on("homepageOnEnterCompleted",function(){$.scrollify(settings)}),$(document).on("homepageOnLeaveCompleted",function(){$.scrollify.destroy()});var morphEls=function(){function e(e){var o=Snap(e.el),n=o.select("path"),t={toSpeed:e.toSpeed,fromSpeed:e.fromSpeed,from:n.attr("d"),to:e.el.getAttribute("data-morph-active")};e.el.addEventListener("mouseover",function(){n.animate({path:t.to},t.toSpeed,e.easeIn)}),e.el.addEventListener("mouseout",function(){n.animate({path:t.from},t.fromSpeed,e.easeOut)})}for(var o=[{el:document.querySelector(".arrow-up"),easeIn:mina.easein,easeOut:mina.easeout,toSpeed:300,fromSpeed:150},{el:document.querySelector(".arrow-down"),easeIn:mina.easein,easeOut:mina.easeout,toSpeed:300,fromSpeed:150},{el:document.querySelector(".arrow-next"),easeIn:mina.easein,easeOut:mina.bounce,toSpeed:300,fromSpeed:500},{el:document.querySelector(".arrow-prev"),easeIn:mina.easein,easeOut:mina.bounce,toSpeed:300,fromSpeed:500}],n=0;n<o.length;n++)e(o[n])};$("body").hasClass("home")&&morphEls(),$(document).on("homepageOnEnter",function(){morphEls()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9iYXJiYVRyYW5zaXRpb25zLmpzIiwiYnV0dG9uRWZmZWN0LmpzIiwicGFyYWxsYXguanMiLCJzY3JvbGxpZnkuanMiLCJhYm91dC5qcyIsImNhcm91c2Vscy5qcyIsImhvbWUuanMiLCJpc0luVmlld3BvcnQuanMiLCJuYXZpZ2F0aW9uLmpzIiwicHJvamVjdHMuanMiLCJzbmFwRWxlbWVudHMuanMiXSwibmFtZXMiOlsiZGlyZWN0aW9uQXdhcmVCdXR0b24iLCIkIiwib24iLCJlIiwicGFyZW50T2Zmc2V0IiwidGhpcyIsIm9mZnNldCIsInJlbFgiLCJwYWdlWCIsImxlZnQiLCJyZWxZIiwicGFnZVkiLCJ0b3AiLCJmaW5kIiwiY3NzIiwicGFyYWxsYXgiLCIkY29udGFpbmVyIiwiJGRlc2t0b3AiLCIkbGFwdG9wIiwiJG1vYmlsZSIsImNvbnRhaW5lcl93Iiwid2lkdGgiLCJjb250YWluZXJfaCIsImhlaWdodCIsIndpbmRvdyIsInJlc2l6ZSIsImV2ZW50IiwidHJhbnNsYXRlVHdlZW4iLCJhcmdzIiwiVHdlZW5MaXRlIiwidG8iLCJlbCIsInRyYW5zZm9ybSIsInBvc0xlZnQiLCJwb3NUb3AiLCJlYXNlIiwiRXhwbyIsImVhc2VPdXQiLCJvdmVyd3JpdGUiLCJpc01vYmlsZSIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicG9zX3giLCJNYXRoIiwicm91bmQiLCJvcmlnaW5hbEV2ZW50IiwiZ2FtbWEiLCJwb3NfeSIsImJldGEiLCJ0ZXh0IiwicGFyYWxsYXhQcm9wc0FycmF5IiwiaSIsImxlbmd0aCIsInBhZ2luYXRpb25BcnJvd3NNb3ZlIiwiZWFjaCIsImNsaWNrIiwicHJldmVudERlZmF1bHQiLCJzY3JvbGxpZnkiLCJtb3ZlIiwibmV4dCIsInByZXZpb3VzIiwiJGRvY3VtZW50IiwiZG9jdW1lbnQiLCIkYm9keSIsIiRiYXJiYVdyYXBwZXIiLCJwYWdlVHJhbnNpdGlvbnMiLCJIb21lcGFnZSIsIkJhcmJhIiwiQmFzZVZpZXciLCJleHRlbmQiLCJuYW1lc3BhY2UiLCJvbkVudGVyIiwidHJpZ2dlciIsImFkZENsYXNzIiwiYXR0ciIsIm9uRW50ZXJDb21wbGV0ZWQiLCJyZW1vdmVDbGFzcyIsIm9uTGVhdmUiLCJvbkxlYXZlQ29tcGxldGVkIiwiUHJvamVjdHMiLCJBYm91dCIsImluaXQiLCJQamF4Iiwic3RhcnQiLCJQcmVmZXRjaCIsInNwZWVkIiwidHJhbnNpdGlvbiIsIkJhc2VUcmFuc2l0aW9uIiwiUHJvbWlzZSIsImFsbCIsIm5ld0NvbnRhaW5lckxvYWRpbmciLCJ0cmFuc2l0aW9uT3V0IiwidGhlbiIsInRyYW5zaXRpb25JbiIsImJpbmQiLCIkZWxPbGQiLCJvbGRDb250YWluZXIiLCJzZXRUaW1lb3V0Iiwic2hvdyIsInByb21pc2UiLCJfdGhpczIiLCJfdGhpcyIsIiRlbE5ldyIsIm5ld0NvbnRhaW5lciIsImhpZGUiLCJkb25lIiwidmlzaWJpbGl0eSIsImdldFRyYW5zaXRpb24iLCJEaXNwYXRjaGVyIiwiY3VycmVudFN0YXR1cyIsIm9sZFN0YXR1cyIsInNjcm9sbFRvIiwiY29uc29sZSIsImxvZyIsImFib3V0Iiwic2xpY2siLCJpbmZpbml0ZSIsInZhcmlhYmxlV2lkdGgiLCJzbGlkZXNUb1Nob3ciLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJzaWJsaW5ncyIsImhvbWVQYWdlIiwibGFuZGluZ1BhZ2VJbnRyb0FuaW1hdGlvbiIsImhhc0NsYXNzIiwiZm4iLCJpc09uU2NyZWVuIiwidmlld3BvcnQiLCJzY3JvbGxUb3AiLCJib3R0b20iLCJib3VuZHMiLCJvdXRlckhlaWdodCIsIiRuYXZUb2dnbGUiLCIkbmF2SXRlbSIsInRvZ2dsZUNsYXNzIiwicHJvamVjdHMiLCJzZXR0aW5ncyIsInNlY3Rpb24iLCJlYXNpbmciLCJzY3JvbGxTcGVlZCIsInN0YW5kYXJkU2Nyb2xsRWxlbWVudHMiLCJzY3JvbGxiYXJzIiwic2V0SGVpZ2h0cyIsIm92ZXJmbG93U2Nyb2xsIiwidXBkYXRlSGFzaCIsInRvdWNoU2Nyb2xsIiwiYmVmb3JlIiwicGFuZWxzIiwicmVmIiwiZXEiLCJkZXN0cm95IiwibW9ycGhFbHMiLCJzbmFwTW9ycGhIb3ZlciIsInMiLCJTbmFwIiwicGF0aCIsInNlbGVjdCIsInBhdGhDb25maWciLCJ0b1NwZWVkIiwiZnJvbVNwZWVkIiwiZnJvbSIsImdldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhbmltYXRlIiwiZWFzZUluIiwic25hcEVscyIsInF1ZXJ5U2VsZWN0b3IiLCJtaW5hIiwiZWFzZWluIiwiZWFzZW91dCIsImJvdW5jZSJdLCJtYXBwaW5ncyI6IkFBQUEsWUNBQSxTQUFBQSx3QkFDQUMsRUFBQSxRQUNBQyxHQUFBLGFBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBSCxFQUFBSSxNQUFBQyxTQUNBQyxFQUFBSixFQUFBSyxNQUFBSixFQUFBSyxLQUNBQyxFQUFBUCxFQUFBUSxNQUFBUCxFQUFBUSxHQUNBWCxHQUFBSSxNQUFBUSxLQUFBLFFBQUFDLEtBQUFGLElBQUFGLEVBQUFELEtBQUFGLE1BRUFMLEdBQUEsV0FBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFILEVBQUFJLE1BQUFDLFNBQ0FDLEVBQUFKLEVBQUFLLE1BQUFKLEVBQUFLLEtBQ0FDLEVBQUFQLEVBQUFRLE1BQUFQLEVBQUFRLEdBQ0FYLEdBQUFJLE1BQUFRLEtBQUEsUUFBQUMsS0FBQUYsSUFBQUYsRUFBQUQsS0FBQUYsTUNaQSxRQUFBUSxZQUNBLEdBQUFDLEdBQUFmLEVBQUEsWUFDQWdCLEVBQUFoQixFQUFBLGVBQ0FpQixFQUFBakIsRUFBQSxjQUNBa0IsRUFBQWxCLEVBQUEsY0FDQW1CLEVBQUFKLEVBQUFLLFFBQ0FDLEVBQUFOLEVBQUFPLFFBRUF0QixHQUFBdUIsUUFBQUMsT0FBQSxXQUNBTCxFQUFBSixFQUFBSyxRQUNBQyxFQUFBTixFQUFBTyxXQUdBdEIsRUFBQXVCLFFBQUF0QixHQUFBLDhCQUFBLFNBQUF3QixHQVNBLFFBQUFDLEdBQUFDLEdBQ0FDLFVBQUFDLEdBQUFGLEVBQUFHLEdBQUEsR0FDQWpCLEtBQ0Fr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LEVBQUFDLFFBQUFsSSxFQUFBd0ksVUFHQXhJLEVBQUFHLEdBQUFtSSxpQkFBQSxXQUFBLFdBQ0FQLEVBQUFRLFNBQUFSLEtBQUFFLEVBQUFHLE1BQUFILEVBQUFFLFVBQUFuSSxFQUFBUyxXQVdBLElBQUEsR0FQQWdJLEtBQ0F0SSxHQUFBK0IsU0FBQXdHLGNBQUEsYUFBQUYsT0FBQUcsS0FBQUMsT0FBQW5JLFFBQUFrSSxLQUFBRSxRQUFBWCxRQUFBLElBQUFDLFVBQUEsTUFDQWhJLEdBQUErQixTQUFBd0csY0FBQSxlQUFBRixPQUFBRyxLQUFBQyxPQUFBbkksUUFBQWtJLEtBQUFFLFFBQUFYLFFBQUEsSUFBQUMsVUFBQSxNQUNBaEksR0FBQStCLFNBQUF3RyxjQUFBLGVBQUFGLE9BQUFHLEtBQUFDLE9BQUFuSSxRQUFBa0ksS0FBQUcsT0FBQVosUUFBQSxJQUFBQyxVQUFBLE1BQ0FoSSxHQUFBK0IsU0FBQXdHLGNBQUEsZUFBQUYsT0FBQUcsS0FBQUMsT0FBQW5JLFFBQUFrSSxLQUFBRyxPQUFBWixRQUFBLElBQUFDLFVBQUEsTUFHQTVHLEVBQUEsRUFBQUEsRUFBQWtILEVBQUFqSCxPQUFBRCxJQUNBcUcsRUFBQWEsRUFBQWxILElBSUFsRCxHQUFBLFFBQUEySCxTQUFBLFNBQ0EyQixXQUdBdEosRUFBQTZELFVBQUE1RCxHQUFBLGtCQUFBLFdBQ0FxSiIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xudmFyICRib2R5ID0gJCgnYm9keScpO1xudmFyICRiYXJiYVdyYXBwZXIgPSAkKCcjYmFyYmEtd3JhcHBlcicpO1xuXG52YXIgcGFnZVRyYW5zaXRpb25zID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIEhvbWVwYWdlID0gQmFyYmEuQmFzZVZpZXcuZXh0ZW5kKHtcbiAgICBuYW1lc3BhY2U6ICdob21lcGFnZScsXG4gICAgb25FbnRlcjogZnVuY3Rpb24gb25FbnRlcigpIHtcbiAgICAgICRkb2N1bWVudC50cmlnZ2VyKCdob21lcGFnZU9uRW50ZXInKTtcbiAgICAgICRib2R5LmFkZENsYXNzKCdob21lJyk7XG4gICAgICAkYm9keS5hdHRyKCdpZCcsICdob21lJyk7XG4gICAgfSxcbiAgICBvbkVudGVyQ29tcGxldGVkOiBmdW5jdGlvbiBvbkVudGVyQ29tcGxldGVkKCkge1xuICAgICAgJGRvY3VtZW50LnRyaWdnZXIoJ2hvbWVwYWdlT25FbnRlckNvbXBsZXRlZCcpO1xuICAgICAgJGJvZHkucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnaG9tZScpO1xuICAgIH0sXG4gICAgb25MZWF2ZTogZnVuY3Rpb24gb25MZWF2ZSgpIHtcbiAgICAgICRkb2N1bWVudC50cmlnZ2VyKCdob21lcGFnZU9uTGVhdmUnKTtcbiAgICB9LFxuICAgIG9uTGVhdmVDb21wbGV0ZWQ6IGZ1bmN0aW9uIG9uTGVhdmVDb21wbGV0ZWQoKSB7XG4gICAgICAkZG9jdW1lbnQudHJpZ2dlcignaG9tZXBhZ2VPbkxlYXZlQ29tcGxldGVkJyk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgUHJvamVjdHMgPSBCYXJiYS5CYXNlVmlldy5leHRlbmQoe1xuICAgIG5hbWVzcGFjZTogJ3Byb2plY3RzJyxcbiAgICBvbkVudGVyOiBmdW5jdGlvbiBvbkVudGVyKCkge1xuICAgICAgJGRvY3VtZW50LnRyaWdnZXIoJ3Byb2plY3RzT25FbnRlcicpO1xuICAgICAgJGJvZHkuYWRkQ2xhc3MoJ3Byb2plY3RzJyk7XG4gICAgICAkYm9keS5hdHRyKCdpZCcsICdwcm9qZWN0cycpO1xuICAgIH0sXG4gICAgb25FbnRlckNvbXBsZXRlZDogZnVuY3Rpb24gb25FbnRlckNvbXBsZXRlZCgpIHtcbiAgICAgICRkb2N1bWVudC50cmlnZ2VyKCdwcm9qZWN0c09uRW50ZXJDb21wbGV0ZWQnKTtcbiAgICAgICRib2R5LnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ3Byb2plY3RzJyk7XG4gICAgfSxcbiAgICBvbkxlYXZlOiBmdW5jdGlvbiBvbkxlYXZlKCkge1xuICAgICAgJGRvY3VtZW50LnRyaWdnZXIoJ3Byb2plY3RzT25MZWF2ZScpO1xuICAgIH0sXG4gICAgb25MZWF2ZUNvbXBsZXRlZDogZnVuY3Rpb24gb25MZWF2ZUNvbXBsZXRlZCgpIHtcbiAgICAgICRkb2N1bWVudC50cmlnZ2VyKCdwcm9qZWN0c09uTGVhdmVDb21wbGV0ZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBBYm91dCA9IEJhcmJhLkJhc2VWaWV3LmV4dGVuZCh7XG4gICAgbmFtZXNwYWNlOiAnYWJvdXQnLFxuICAgIG9uRW50ZXI6IGZ1bmN0aW9uIG9uRW50ZXIoKSB7XG4gICAgICAkZG9jdW1lbnQudHJpZ2dlcignYWJvdXRPbkVudGVyJyk7XG4gICAgICAkYm9keS5hZGRDbGFzcygnYWJvdXQnKTtcbiAgICAgICRib2R5LmF0dHIoJ2lkJywgJ2Fib3V0Jyk7XG4gICAgfSxcbiAgICBvbkVudGVyQ29tcGxldGVkOiBmdW5jdGlvbiBvbkVudGVyQ29tcGxldGVkKCkge1xuICAgICAgJGRvY3VtZW50LnRyaWdnZXIoJ2Fib3V0T25FbnRlckNvbXBsZXRlZCcpO1xuICAgICAgJGJvZHkucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnYWJvdXQnKTtcbiAgICB9LFxuICAgIG9uTGVhdmU6IGZ1bmN0aW9uIG9uTGVhdmUoKSB7XG4gICAgICAkZG9jdW1lbnQudHJpZ2dlcignYWJvdXRPbkxlYXZlJyk7XG4gICAgfSxcbiAgICBvbkxlYXZlQ29tcGxldGVkOiBmdW5jdGlvbiBvbkxlYXZlQ29tcGxldGVkKCkge1xuICAgICAgJGRvY3VtZW50LnRyaWdnZXIoJ2Fib3V0T25MZWF2ZUNvbXBsZXRlZCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgSG9tZXBhZ2UuaW5pdCgpO1xuICBQcm9qZWN0cy5pbml0KCk7XG4gIEFib3V0LmluaXQoKTtcblxuICBCYXJiYS5QamF4LnN0YXJ0KCk7XG4gIEJhcmJhLlByZWZldGNoLmluaXQoKTtcblxuICB2YXIgc3BlZWQgPSA3NTA7XG5cbiAgdmFyIHRyYW5zaXRpb24gPSBCYXJiYS5CYXNlVHJhbnNpdGlvbi5leHRlbmQoe1xuICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgIFByb21pc2UuYWxsKFt0aGlzLm5ld0NvbnRhaW5lckxvYWRpbmcsIHRoaXMudHJhbnNpdGlvbk91dCgpXSkudGhlbih0aGlzLnRyYW5zaXRpb25Jbi5iaW5kKHRoaXMpKTtcbiAgICB9LFxuICAgIHRyYW5zaXRpb25PdXQ6IGZ1bmN0aW9uIHRyYW5zaXRpb25PdXQoKSB7XG4gICAgICB2YXIgJGVsT2xkID0gJCh0aGlzLm9sZENvbnRhaW5lcik7XG5cbiAgICAgICRlbE9sZC5yZW1vdmVDbGFzcygndHJhbnNpdGlvbi1pbicpLmFkZENsYXNzKCd0cmFuc2l0aW9uLW91dCcpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRlbE9sZC5zaG93KCkucHJvbWlzZSgpO1xuICAgICAgfSwgc3BlZWQpO1xuICAgIH0sXG4gICAgdHJhbnNpdGlvbkluOiBmdW5jdGlvbiB0cmFuc2l0aW9uSW4oKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciAkZWxOZXcgPSAkKHRoaXMubmV3Q29udGFpbmVyKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoX3RoaXMyLm9sZENvbnRhaW5lcikuaGlkZSgpO1xuICAgICAgICAkKF90aGlzMi5vbGRDb250YWluZXIpLnNob3coKTtcbiAgICAgICAgX3RoaXMuZG9uZSgpO1xuICAgICAgfSwgc3BlZWQpO1xuXG4gICAgICAkZWxOZXcuY3NzKHtcbiAgICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnXG4gICAgICB9KTtcblxuICAgICAgJGVsTmV3LmFkZENsYXNzKCd0cmFuc2l0aW9uLWluJykucmVtb3ZlQ2xhc3MoJ3RyYW5zaXRpb24tb3V0Jyk7XG4gICAgfVxuICB9KTtcblxuICBCYXJiYS5QamF4LmdldFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb247XG4gIH07XG5cbiAgQmFyYmEuRGlzcGF0Y2hlci5vbignbmV3UGFnZVJlYWR5JywgZnVuY3Rpb24gKGN1cnJlbnRTdGF0dXMsIG9sZFN0YXR1cykge1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgfSwgc3BlZWQpO1xuXG4gICAgJCgkZG9jdW1lbnQpLnRyaWdnZXIoJ2FsbFBhZ2VzRW50ZXInKTtcbiAgICBjb25zb2xlLmxvZygnYWxsUGFnZXNFbnRlcicpO1xuXG4gICAgc3dpdGNoICh0cnVlKSB7XG5cbiAgICAgIGNhc2Ugb2xkU3RhdHVzLm5hbWVzcGFjZSA9PT0gJ3Byb2plY3RzJyAmJiBjdXJyZW50U3RhdHVzLm5hbWVzcGFjZSA9PT0gJ3Byb2plY3RzJzpcbiAgICAgICAgJGJhcmJhV3JhcHBlci5hZGRDbGFzcygndGVydGlhcnktdHJhbnNpdGlvbicpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICAgIH0sIHNwZWVkKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgY3VycmVudFN0YXR1cy5uYW1lc3BhY2UgPT09ICdob21lcGFnZSc6XG4gICAgICAgICRiYXJiYVdyYXBwZXIucmVtb3ZlQ2xhc3MoJ2ZhZGUtaW4nKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgICAgICRiYXJiYVdyYXBwZXIuYWRkQ2xhc3MoJ2ZhZGUtaW4nKTtcbiAgICAgICAgfSwgc3BlZWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnaG9tZXBhZ2UnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgICRiYXJiYVdyYXBwZXIucmVtb3ZlQ2xhc3MoKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgICB9LCBzcGVlZCk7XG4gICAgfVxuICB9KTtcbn07XG5cbiQoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gcGFnZVRyYW5zaXRpb25zKCk7XG59KTtcbiIsImZ1bmN0aW9uIGRpcmVjdGlvbkF3YXJlQnV0dG9uKCkge1xuICAkKCcuYnRuJylcbiAgICAub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyZW50T2Zmc2V0ID0gJCh0aGlzKS5vZmZzZXQoKSxcbiAgICAgICAgcmVsWCA9IGUucGFnZVggLSBwYXJlbnRPZmZzZXQubGVmdCxcbiAgICAgICAgcmVsWSA9IGUucGFnZVkgLSBwYXJlbnRPZmZzZXQudG9wO1xuICAgICAgJCh0aGlzKS5maW5kKCdzcGFuJykuY3NzKHt0b3A6cmVsWSwgbGVmdDpyZWxYfSlcbiAgICB9KVxuICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyZW50T2Zmc2V0ID0gJCh0aGlzKS5vZmZzZXQoKSxcbiAgICAgICAgcmVsWCA9IGUucGFnZVggLSBwYXJlbnRPZmZzZXQubGVmdCxcbiAgICAgICAgcmVsWSA9IGUucGFnZVkgLSBwYXJlbnRPZmZzZXQudG9wO1xuICAgICAgJCh0aGlzKS5maW5kKCdzcGFuJykuY3NzKHt0b3A6cmVsWSwgbGVmdDpyZWxYfSlcbiAgICB9KTtcbn1cblxuZGlyZWN0aW9uQXdhcmVCdXR0b24oKTtcblxuJCgkZG9jdW1lbnQpLm9uKCdhbGxQYWdlc0VudGVyJywgZnVuY3Rpb24oKSB7XG4gIGRpcmVjdGlvbkF3YXJlQnV0dG9uKCk7XG59KTtcbiIsImZ1bmN0aW9uIHBhcmFsbGF4KCkge1xuICB2YXIgJGNvbnRhaW5lciA9ICQoJy5kZXZpY2VzJyk7XG4gIHZhciAkZGVza3RvcCA9ICQoJ2ltZy5kZXNrdG9wJyk7XG4gIHZhciAkbGFwdG9wID0gJCgnaW1nLmxhcHRvcCcpO1xuICB2YXIgJG1vYmlsZSA9ICQoJ2ltZy5tb2JpbGUnKTtcbiAgdmFyIGNvbnRhaW5lcl93ID0gJGNvbnRhaW5lci53aWR0aCgpO1xuICB2YXIgY29udGFpbmVyX2ggPSAkY29udGFpbmVyLmhlaWdodCgpO1xuXG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgIGNvbnRhaW5lcl93ID0gJGNvbnRhaW5lci53aWR0aCgpO1xuICAgIGNvbnRhaW5lcl9oID0gJGNvbnRhaW5lci5oZWlnaHQoKTtcbiAgfSk7XG5cbiAgJCh3aW5kb3cpLm9uKCdtb3VzZW1vdmUgZGV2aWNlb3JpZW50YXRpb24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNzY3cHgpJykubWF0Y2hlcztcbiAgICB2YXIgcG9zX3ggPSBpc01vYmlsZSA/IE1hdGgucm91bmQoZXZlbnQub3JpZ2luYWxFdmVudC5nYW1tYSAqIDUwKSA6IGV2ZW50LnBhZ2VYO1xuICAgIHZhciBwb3NfeSA9IGlzTW9iaWxlID8gTWF0aC5yb3VuZChldmVudC5vcmlnaW5hbEV2ZW50LmJldGEgKiA1MCkgOiBldmVudC5wYWdlWTtcbiAgICB2YXIgbGVmdCA9IGNvbnRhaW5lcl93IC8gMiAtIHBvc194O1xuICAgIHZhciB0b3AgPSBjb250YWluZXJfaCAvIDIgLSBwb3NfeTtcblxuICAgICQoJyNkZXZpY2VPcmllbnRhdGlvbicpLnRleHQoJ2dhbW1hOiAnICsgZXZlbnQub3JpZ2luYWxFdmVudC5nYW1tYSArICcgYmV0YTogJyArIGV2ZW50Lm9yaWdpbmFsRXZlbnQuYmV0YSk7XG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVUd2VlbihhcmdzKSB7XG4gICAgICBUd2VlbkxpdGUudG8oYXJncy5lbCwgMSwge1xuICAgICAgICBjc3M6IHtcbiAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKCcgKyBsZWZ0IC8gYXJncy5wb3NMZWZ0ICsgJ3B4KSB0cmFuc2xhdGVZKCcgKyB0b3AgLyBhcmdzLnBvc1RvcCArICdweCknXG4gICAgICAgIH0sXG4gICAgICAgIGVhc2U6IEV4cG8uZWFzZU91dCxcbiAgICAgICAgb3ZlcndyaXRlOiAnYWxsJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFsbGF4UHJvcHNBcnJheSA9IFtcbiAgICAgIHsgZWw6ICRkZXNrdG9wLCBwb3NMZWZ0OiA3NSwgcG9zVG9wOiAzNX0sXG4gICAgICB7IGVsOiAkbGFwdG9wLCBwb3NMZWZ0OiA0NSwgcG9zVG9wOiAxNX0sXG4gICAgICB7IGVsOiAkbW9iaWxlLCBwb3NMZWZ0OiA1NSwgcG9zVG9wOiAyNX1cbiAgICBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbGxheFByb3BzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyYW5zbGF0ZVR3ZWVuKHBhcmFsbGF4UHJvcHNBcnJheVtpXSk7XG4gICAgfVxuICB9KTtcbn1cblxuJChkb2N1bWVudCkub24oJ2hvbWVwYWdlT25FbnRlckNvbXBsZXRlZCcsIGZ1bmN0aW9uKCkge1xuICBwYXJhbGxheCgpO1xufSk7XG4iLCJ2YXIgc2V0dGluZ3MgPSB7XG4gIHNlY3Rpb24gOiAnLnNjcm9sbC1zZWN0aW9uJyxcbiAgZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuICBzY3JvbGxTcGVlZDogMTAwMCxcbiAgb2Zmc2V0IDogMCxcbiAgc3RhbmRhcmRTY3JvbGxFbGVtZW50czogJ2JvZHk6bm90KC5ob21lKScsXG4gIHNjcm9sbGJhcnM6IHRydWUsXG4gIHNldEhlaWdodHM6IHRydWUsXG4gIG92ZXJmbG93U2Nyb2xsOiB0cnVlLFxuICB1cGRhdGVIYXNoOiBmYWxzZSxcbiAgdG91Y2hTY3JvbGw6IHRydWUsXG4gIGJlZm9yZTpmdW5jdGlvbihpLCBwYW5lbHMpIHtcblxuICAgIHZhciByZWYgPSBwYW5lbHNbaV0uYXR0cignZGF0YS1zZWN0aW9uLW5hbWUnKTtcbiAgICAkKCcucGFnaW5hdGlvbiAuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQoJy5wYWdpbmF0aW9uJykuZmluZCgnYVtocmVmPVwiIycgKyByZWYgKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgJCgnLnNjcm9sbC1zZWN0aW9uJykuZXEoaSlcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlIHByZXZpb3VzIG5leHQnKVxuICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgLnNpYmxpbmdzKCcuc2Nyb2xsLXNlY3Rpb24nKVxuICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICQoJy5zY3JvbGwtc2VjdGlvbicpLmVxKGkgLSAxKVxuICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUgcHJldmlvdXMgbmV4dCcpXG4gICAgICAuYWRkQ2xhc3MoJ3ByZXZpb3VzJylcbiAgICAgIC5zaWJsaW5ncygnLnNjcm9sbC1zZWN0aW9uJylcbiAgICAgIC5yZW1vdmVDbGFzcygncHJldmlvdXMnKTtcblxuICAgICQoJy5zY3JvbGwtc2VjdGlvbicpLmVxKGkgKyAxKVxuICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUgcHJldmlvdXMgbmV4dCcpXG4gICAgICAuYWRkQ2xhc3MoJ25leHQnKVxuICAgICAgLnNpYmxpbmdzKCcuc2Nyb2xsLXNlY3Rpb24nKVxuICAgICAgLnJlbW92ZUNsYXNzKCduZXh0Jyk7XG5cbiAgICBpZiAoaSA9PT0gcGFuZWxzLmxlbmd0aCAtIDEpIHtcbiAgICAgICQoJy5hcnJvdy1kb3duJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIGlmIChpID09PSAwKSB7XG4gICAgICAkKCcuYXJyb3ctdXAnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmFycm93LXVwLCAuYXJyb3ctZG93bicpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gcGFnaW5hdGlvbkFycm93c01vdmUoKSB7XG4gICQoJy5wYWdpbmF0aW9uIGEnKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgJCh0aGlzKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgJC5zY3JvbGxpZnkubW92ZShpKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgJCgnLmFycm93LWRvd24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJC5zY3JvbGxpZnkubmV4dCgpO1xuICB9KTtcblxuICAkKCcuYXJyb3ctdXAnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJC5zY3JvbGxpZnkucHJldmlvdXMoKTtcbiAgfSk7XG59XG5cblxuaWYoJCgnYm9keScpLmhhc0NsYXNzKCdob21lJykpIHtcbiAgJC5zY3JvbGxpZnkoc2V0dGluZ3MpO1xuICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICQuc2Nyb2xsaWZ5Lm1vdmUoMCk7XG59XG5cbiQoZG9jdW1lbnQpLm9uKCdob21lcGFnZU9uRW50ZXInLCBmdW5jdGlvbigpIHtcbiAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAkLnNjcm9sbGlmeS5tb3ZlKDApO1xuICBwYWdpbmF0aW9uQXJyb3dzTW92ZSgpO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdob21lcGFnZU9uRW50ZXJDb21wbGV0ZWQnLCBmdW5jdGlvbigpIHtcbiAgJC5zY3JvbGxpZnkoc2V0dGluZ3MpO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdob21lcGFnZU9uTGVhdmVDb21wbGV0ZWQnLCBmdW5jdGlvbigpIHtcbiAgJC5zY3JvbGxpZnkuZGVzdHJveSgpO1xufSk7XG5cblxuIiwidmFyIGFib3V0ID0gZnVuY3Rpb24oKSB7XG5cbiAgJGRvY3VtZW50Lm9uKCdhYm91dE9uRW50ZXInLCBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnYWJvdXRPbkVudGVyJyk7XG4gIH0pO1xuXG4gICRkb2N1bWVudC5vbignYWJvdXRPbkVudGVyQ29tcGxldGVkJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2Fib3V0T25FbnRlckNvbXBsZXRlZCcpO1xuICB9KTtcblxuICAkZG9jdW1lbnQub24oJ2Fib3V0T25MZWF2ZScsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdhYm91dE9uTGVhdmUnKTtcbiAgfSk7XG5cbiAgJGRvY3VtZW50Lm9uKCdhYm91dE9uTGVhdmVDb21wbGV0ZWQnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnYWJvdXRPbkxlYXZlQ29tcGxldGVkJyk7XG4gIH0pO1xufTtcblxuJChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBhYm91dCgpO1xufSk7XG4iLCIkKGRvY3VtZW50KS5vbignaG9tZXBhZ2VPbkVudGVyQ29tcGxldGVkJywgZnVuY3Rpb24oKSB7XG4gICQoJy5jYXJvdXNlbCcpLnNsaWNrKHtcbiAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxuICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICBwcmV2QXJyb3c6ICQoJy5hcnJvdy1wcmV2JyksXG4gICAgbmV4dEFycm93OiAkKCcuYXJyb3ctbmV4dCcpXG4gIH0pO1xuXG4gICQoJy5zbGljay1hY3RpdmUnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgJCgnLmNhcm91c2VsJykub24oJ2FmdGVyQ2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5maW5kKCcuc2xpZGUuc2xpY2stYWN0aXZlJykuYWRkQ2xhc3MoJ2FuaW1hdGUnKVxuICAgICAgLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FuaW1hdGUnKTtcbiAgfSk7XG5cbiAgJCgnLmNhcm91c2VsIC5zbGljay1hY3RpdmUnKS5hZGRDbGFzcygnYW5pbWF0ZScpO1xuXG59KTtcbiIsInZhciBob21lUGFnZSA9IGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGxhbmRpbmdQYWdlSW50cm9BbmltYXRpb24oKSB7XG4gICAgJCgnc2VjdGlvbi5pbnRybycpLmFkZENsYXNzKCdsYW5kaW5nLWFuaW1hdGlvbicpO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICQoJ3NlY3Rpb24uaW50cm8nKS5yZW1vdmVDbGFzcygnbGFuZGluZy1hbmltYXRpb24nKTtcbiAgICB9LCAyMDAwKVxuICB9XG5cbiAgbGFuZGluZ1BhZ2VJbnRyb0FuaW1hdGlvbigpO1xuXG4gICRkb2N1bWVudC5vbignaG9tZXBhZ2VPbkVudGVyJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2hvbWVwYWdlT25FbnRlcicpO1xuICAgIGxhbmRpbmdQYWdlSW50cm9BbmltYXRpb24oKTtcbiAgfSk7XG5cbiAgJGRvY3VtZW50Lm9uKCdob21lcGFnZU9uRW50ZXJDb21wbGV0ZWQnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnaG9tZXBhZ2VPbkVudGVyQ29tcGxldGVkJyk7XG4gIH0pO1xuXG4gICRkb2N1bWVudC5vbignaG9tZXBhZ2VPbkxlYXZlJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2hvbWVwYWdlT25MZWF2ZScpO1xuICB9KTtcblxuICAkZG9jdW1lbnQub24oJ2hvbWVwYWdlT25MZWF2ZUNvbXBsZXRlZCcsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdob21lcGFnZU9uTGVhdmVDb21wbGV0ZWQnKTtcbiAgfSk7XG59O1xuXG5cbmlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ2hvbWUnKSkge1xuICAkKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaG9tZVBhZ2UoKTtcbiAgfSk7XG59XG4iLCIkLmZuLmlzT25TY3JlZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2aWV3cG9ydCA9IHtcbiAgICB0b3A6ICQod2luZG93KS5zY3JvbGxUb3AoKVxuICB9O1xuXG4gIHZpZXdwb3J0LmJvdHRvbSA9IHZpZXdwb3J0LnRvcCArICQod2luZG93KS5oZWlnaHQoKTtcblxuICB2YXIgYm91bmRzID0gdGhpcy5vZmZzZXQoKTtcbiAgYm91bmRzLmJvdHRvbSA9IHRoaXMub2Zmc2V0KCkudG9wICsgdGhpcy5vdXRlckhlaWdodCgpO1xuXG4gIHJldHVybiAhKHZpZXdwb3J0LmJvdHRvbSA8IGJvdW5kcy50b3AgfHwgdmlld3BvcnQudG9wID4gYm91bmRzLmJvdHRvbSk7XG59O1xuXG4kKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcblxuICAkKCcucHJvamVjdCAuaW1nJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5pc09uU2NyZWVuKCkgPT09IHRydWUgPyAkKHRoaXMpLmFkZENsYXNzKCdpbi12aWV3cG9ydCcpIDogJCh0aGlzKS5yZW1vdmVDbGFzcygnaW4tdmlld3BvcnQnKTtcbiAgfSk7XG59KTtcbiIsInZhciAkYm9keSA9ICQoJ2JvZHknKTtcbnZhciAkbmF2VG9nZ2xlID0gJCgnLm5hdicpO1xudmFyICRuYXZJdGVtID0gJCgnbmF2IHVsIGxpIGEnKTtcblxuJG5hdlRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgJCh0aGlzKS50b2dnbGVDbGFzcygnaXMtY2xvc2VkJyk7XG5cbiAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2lzLWNsb3NlZCcpKSB7XG4gICAgJGJvZHkuYWRkQ2xhc3MoJ2lzLW9wZW4nKTtcbiAgfSBlbHNlIHtcbiAgICAkYm9keS5yZW1vdmVDbGFzcygnaXMtb3BlbicpO1xuICB9XG59KTtcblxuJG5hdkl0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICRuYXZUb2dnbGUudG9nZ2xlQ2xhc3MoJ2lzLWNsb3NlZCcpO1xuICBpZighJG5hdlRvZ2dsZS5oYXNDbGFzcygnaXMtY2xvc2VkJykpIHtcbiAgICAkYm9keS5hZGRDbGFzcygnaXMtb3BlbicpO1xuICB9IGVsc2Uge1xuICAgICRib2R5LnJlbW92ZUNsYXNzKCdpcy1vcGVuJyk7XG4gIH1cbn0pO1xuIiwidmFyIHByb2plY3RzID0gZnVuY3Rpb24oKSB7XG5cbiAgJGRvY3VtZW50Lm9uKCdwcm9qZWN0c09uRW50ZXInLCBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygncHJvamVjdHNPbkVudGVyJyk7XG4gIH0pO1xuXG4gICRkb2N1bWVudC5vbigncHJvamVjdHNPbkVudGVyQ29tcGxldGVkJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ3Byb2plY3RzT25FbnRlckNvbXBsZXRlZCcpO1xuICB9KTtcblxuICAkZG9jdW1lbnQub24oJ3Byb2plY3RzT25MZWF2ZScsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdwcm9qZWN0c09uTGVhdmUnKTtcbiAgfSk7XG5cbiAgJGRvY3VtZW50Lm9uKCdwcm9qZWN0c09uTGVhdmVDb21wbGV0ZWQnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygncHJvamVjdHNPbkxlYXZlQ29tcGxldGVkJyk7XG4gIH0pO1xufTtcblxuJChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBwcm9qZWN0cygpO1xufSk7XG4iLCJ2YXIgbW9ycGhFbHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc25hcE1vcnBoSG92ZXIoYXJncykge1xuICAgIHZhciBzID0gU25hcChhcmdzLmVsKTtcbiAgICB2YXIgcGF0aCA9IHMuc2VsZWN0KCdwYXRoJyk7XG5cbiAgICB2YXIgcGF0aENvbmZpZyA9IHtcbiAgICAgIHRvU3BlZWQ6IGFyZ3MudG9TcGVlZCxcbiAgICAgIGZyb21TcGVlZDogYXJncy5mcm9tU3BlZWQsXG4gICAgICBmcm9tOiBwYXRoLmF0dHIoJ2QnKSxcbiAgICAgIHRvOiBhcmdzLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1tb3JwaC1hY3RpdmUnKVxuICAgIH07XG5cbiAgICBhcmdzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHBhdGguYW5pbWF0ZSh7ICdwYXRoJzogcGF0aENvbmZpZy50byB9LCBwYXRoQ29uZmlnLnRvU3BlZWQsIGFyZ3MuZWFzZUluKTtcbiAgICB9KTtcblxuICAgIGFyZ3MuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBwYXRoLmFuaW1hdGUoeyAncGF0aCc6IHBhdGhDb25maWcuZnJvbSB9LCBwYXRoQ29uZmlnLmZyb21TcGVlZCwgYXJncy5lYXNlT3V0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzbmFwRWxzID0gW1xuICAgIHtlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFycm93LXVwJyksIGVhc2VJbjogbWluYS5lYXNlaW4sIGVhc2VPdXQ6IG1pbmEuZWFzZW91dCwgdG9TcGVlZDogMzAwLCBmcm9tU3BlZWQ6IDE1MH0sXG4gICAge2VsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJyb3ctZG93bicpLCBlYXNlSW46IG1pbmEuZWFzZWluLCBlYXNlT3V0OiBtaW5hLmVhc2VvdXQsIHRvU3BlZWQ6IDMwMCwgZnJvbVNwZWVkOiAxNTB9LFxuICAgIHtlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFycm93LW5leHQnKSwgZWFzZUluOiBtaW5hLmVhc2VpbiwgZWFzZU91dDogbWluYS5ib3VuY2UsIHRvU3BlZWQ6IDMwMCwgZnJvbVNwZWVkOiA1MDB9LFxuICAgIHtlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFycm93LXByZXYnKSwgZWFzZUluOiBtaW5hLmVhc2VpbiwgZWFzZU91dDogbWluYS5ib3VuY2UsIHRvU3BlZWQ6IDMwMCwgZnJvbVNwZWVkOiA1MDB9XG4gIF07XG5cbiAgZm9yICh2YXIgaT0wOyBpPHNuYXBFbHMubGVuZ3RoOyBpKyspIHtcbiAgICBzbmFwTW9ycGhIb3ZlcihzbmFwRWxzW2ldKTtcbiAgfVxufTtcblxuaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnaG9tZScpKSB7XG4gIG1vcnBoRWxzKCk7XG59XG5cbiQoZG9jdW1lbnQpLm9uKCdob21lcGFnZU9uRW50ZXInLCBmdW5jdGlvbigpIHtcbiAgbW9ycGhFbHMoKTtcbn0pO1xuIl19
